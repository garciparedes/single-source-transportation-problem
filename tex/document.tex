% !TEX root = ./document.tex

\documentclass[a4paper, spanish]{article}

\usepackage{mystyle}
\usepackage{myvars}
\usepackage{mylinearprogramming}
%-----------------------------


\begin{document}

  \maketitle

  \begin{abstract}
    \noindent [TODO]
  \end{abstract}

  %-----------------------------
  %  TEXT
  %-----------------------------

  \section{Introducción}
  \label{sec:introduction}

    \paragraph{}
    [TODO]


    \begin{eqfloat}
      \begin{equation}
        \begin{array}{ll@{}ll}
          \text{Minimizar}	& \displaystyle \sum\limits_{i=1}^{m}\sum\limits_{j=1}^{n}c_{ij} \cdot x_{ij} \\
          \text{sujeto a}		& \sum\limits_{j=1}^{n} x_{ij}	\leq s_{i}, & \forall i \in \{1,...,n\}\\
                            &	\sum\limits_{i=1}^{m} x_{ij}	\geq d_{j}, & \forall j \in \{1,...,n\} \\
                            & x_{ij}	\geq 0, 	& \forall i \in \{1,...,m\}, \forall j \in \{1,...,n\}
        \end{array}
      \end{equation}
      \caption{Formulación básica del \emph{Problema de Transporte}.}
      \label{eq:transportation-model}
    \end{eqfloat}

  \section{Planteamiento: Restricción de Fuente Única}
  \label{sec:approach}

    \paragraph{}
    [TODO]

    \subsection{Modelo 1}
    \label{sec:approach-1}

      \paragraph{}
      [TODO]

      \begin{eqfloat}
        \begin{equation}
          \begin{array}{ll@{}ll}
            \text{Minimizar}	& \displaystyle \sum\limits_{i=1}^{m}\sum\limits_{j=1}^{n}c_{ij} \cdot x_{ij} \\
            \text{sujeto a}		& \sum\limits_{j=1}^{n} x_{ij}	\leq s_{i}, & \forall i \in \{1,...,n\}\\
                              &	\sum\limits_{i=1}^{m} x_{ij}	\geq d_{j}, & \forall j \in \{1,...,n\} \\
                              & x_{ij}	\leq min(s_{i}, d_{j}) \cdot y_{ij}, 	& \forall i \in \{1,...,m\}, \forall j \in \{1,...,n\} \\
                              &	\sum\limits_{i=1}^{m} y_{ij}	\leq 1, & \forall j \in \{1,...,n\} \\
                              & x_{ij}	\geq 0, 	& \forall i \in \{1,...,m\}, \forall j \in \{1,...,n\} \\
                              & y_{ij}	\in \{0, 1\}, 	& \forall i \in \{1,...,m\}, \forall j \in \{1,...,n\} \\
          \end{array}
        \end{equation}
        \caption{Formulación del \emph{Problema de Transporte de Fuente Única} siguiendo la \emph{Modelización 1}.}
        \label{eq:single-source-transportation-model-1}
      \end{eqfloat}

    \subsection{Modelo 2}
    \label{sec:approach-2}

      \paragraph{}
      [TODO]


      \begin{eqfloat}
        \begin{equation}
          \begin{array}{ll@{}ll}
            \text{Minimizar}	& \displaystyle \sum\limits_{i=1}^{m}\sum\limits_{j=1}^{n}c_{ij} \cdot d_{j} \cdot y_{ij} \\
            \text{sujeto a}		& \sum\limits_{j=1}^{n} d_{j} \cdot y_{ij}	\leq s_{i}, & \forall i \in \{1,...,n\}\\
                              &	\sum\limits_{i=1}^{m} y_{ij}	= 1, & \forall j \in \{1,...,n\} \\
                              & y_{ij}	\in \{0, 1\}, 	& \forall i \in \{1,...,m\}, \forall j \in \{1,...,n\}
          \end{array}
        \end{equation}
        \caption{Formulación del \emph{Problema de Transporte de Fuente Única} siguiendo la \emph{Modelización 2}.}
        \label{eq:single-source-transportation-model-2}
      \end{eqfloat}

  \section{Conclusiones}
  \label{sec:conclusions}

    \paragraph{}
    [TODO]

    \begin{table}
      \begin{center}
        \begin{tabular}{ | c | c | c | c | c | c | c | c | c | c | c | c | c | c |}
              \hline
          \multicolumn{2}{| c |}{\multirow{2}{*}{Coste Mínimo $c = 17003$}} &
            \multicolumn{12}{ c |}{Destinos $n = 12$} \\ \cline{3-14}
          \multicolumn{2}{| c |}{}
            & 1  & 2  & 3  & 4  & 5  & 6  & 7  & 8   & 9  & 10 & 11  & 12 \\ \hline
          \multirow{8}{*}{Orígenes $m = 8$}
            & 1 & 64 & 0  & 0  & 0  & 0  & 3  & 0  & 0   & 0  & 0  & 0   & 109 \\ \cline{2-14}
            & 2 & 0  & 0  & 0  & 88 & 0  & 0  & 29 & 0   & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 3 & 0  & 0  & 0  & 0  & 0  & 0  & 0  & 0   & 82 & 0  & 0   & 0 \\ \cline{2-14}
            & 4 & 0  & 0  & 0  & 0  & 0  & 0  & 39 & 0   & 0  & 0  & 113 & 0 \\ \cline{2-14}
            & 5 & 5  & 0  & 0  & 0  & 95 & 0  & 0  & 0   & 0  & 78 & 0   & 0 \\ \cline{2-14}
            & 6 & 0  & 0  & 95 & 1  & 0  & 9  & 0  & 0   & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 7 & 0  & 0  & 0  & 0  & 0  & 15 & 0  & 112 & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 8 & 0  & 98 & 0  & 0  & 0  & 77 & 0  & 0   & 0  & 0  & 0   & 0 \\ \hline
        \end{tabular}
      \end{center}
      \caption{Solución óptima para el problema aplicando la relajación lineal de varias fuentes.}
      \label{table:multi-source-optimal-solution}
    \end{table}

    \begin{table}
      \begin{center}
        \begin{tabular}{ | c | c | c | c | c | c | c | c | c | c | c | c | c | c |}
              \hline
          \multicolumn{2}{| c |}{\multirow{2}{*}{Coste Mínimo $c = 21942$}} &
            \multicolumn{12}{ c |}{Destinos $n = 12$} \\ \cline{3-14}
          \multicolumn{2}{| c |}{}
            & 1  & 2  & 3  & 4  & 5  & 6  & 7  & 8   & 9  & 10 & 11  & 12 \\ \hline
          \multirow{8}{*}{Orígenes $m = 8$}
            & 1 & 69 & 0  & 0  & 0  & 0  & 104 & 0  & 0   & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 2 & 0  & 0  & 0  & 89 & 0  & 0   & 68 & 0   & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 3 & 0  & 0  & 0  & 0  & 0  & 0   & 0  & 0   & 82 & 0  & 0   & 109 \\ \cline{2-14}
            & 4 & 0  & 0  & 0  & 0  & 0  & 0   & 0  & 0   & 0  & 0  & 113 & 0 \\ \cline{2-14}
            & 5 & 0  & 0  & 0  & 0  & 95 & 0   & 0  & 0   & 0  & 78 & 0   & 0 \\ \cline{2-14}
            & 6 & 0  & 0  & 95 & 0  & 0  & 0   & 0  & 0   & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 7 & 0  & 0  & 0  & 0  & 0  & 0   & 0  & 112 & 0  & 0  & 0   & 0 \\ \cline{2-14}
            & 8 & 0  & 98 & 0  & 0  & 0  & 0   & 0  & 0   & 0  & 0  & 0   & 0 \\ \hline
        \end{tabular}
      \end{center}
      \caption{Solución óptima para el problema aplicando la restricción de fuente única.}
      \label{table:single-source-optimal-solution}
    \end{table}


  \begin{appendices}

    \section{Código Fuente}

      \subsection{Problema de Transporte con Fuente Única: Relajación Lineal}
      \label{appendix:source-code-relaxation}

        \inputminted{text}{./../mosel/single-source-transportation-problem-relaxation.mos}

      \subsection{Problema de Transporte con Fuente Única: Modelo 1}
      \label{appendix:source-code-model-1}

        \inputminted{text}{./../mosel/single-source-transportation-problem-model-1.mos}

      \subsection{Problema de Transporte con Fuente Única: Modelo 2}
      \label{appendix:source-code-model-2}

        \inputminted{text}{./../mosel/single-source-transportation-problem-model-2.mos}

    \section{Datos}
    \label{appendix:data}

      \inputminted{text}{./../mosel/data.dat}

  \end{appendices}





  %-----------------------------
  %  Bibliographic references
  %-----------------------------

  \nocite{subject:pent2017}
  \nocite{tool:xpress-mosel}
  \nocite{repository:network-flow-transeuro}

  \bibliographystyle{alpha}
  \bibliography{bib}

\end{document}
